/* shikimori-temset2: Modern Glassmorphism & Twitch-style Theme */

:root {
  /* Акценты Twitch (можно переопределить с сайта) */
  --accent-primary: #9146ff;
  --accent-hover: #772ce8;
  --accent-active: #5c16c5;
  --accent-glow: rgba(145, 70, 255, 0.6);

  /* Эффекты стекла (Glassmorphism) */
  --glass-bg: rgba(18, 18, 20, 0.65);
  --glass-bg-hover: rgba(25, 25, 28, 0.8);
  --glass-blur: blur(20px);
  --glass-border: 1px solid rgba(255, 255, 255, 0.08);
  --glass-radius: 12px;

  /* Цвета текста */
  --text-main: #e0e0e0;
  --text-muted: #a0a0a0;

  /* Тайминги анимации */
  --transition-fast: 0.2s ease-in-out;
  --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 
 * 1. Фон.
 * Используем фон, загруженный в настройках Shikimori.
 * Делаем фон фиксированным и покрывающим весь экран.
 */
body {
  background-size: cover !important;
  background-position: center !important;
  background-attachment: fixed !important;
  color: var(--text-main) !important;
}

/* Скрываем стандартные фоны Shikimori, чтобы сделать их прозрачными */
.p-profiles .profile-head,
.p-profiles .profile-content,
.b-stats_bar,
.b-stats_bar .title,
.b-stats_bar .bar,
.cc-2,
.c-column,
.l-top_menu-v2,
header.head,
.p-profiles-show .l-page {
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
}

/* 
 * 2. Эффект стекла (Glassmorphism)
 * Назначаем размытие на основные блоки.
 */
.l-page,
.block,
.menu-dropdown.main .submenu,
.menu-dropdown.profile .submenu,
.b-catalog_entry .cover,
.b-news_wall-topic,
.tooltip-inner,
.b-post,
.b-comment {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: var(--glass-border) !important;
  border-radius: var(--glass-radius) !important;
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3) !important;
}

/* 
 * 3. Цвета ссылок и текста (Twitch акцент) 
 */
a,
.b-link {
  color: var(--accent-primary) !important;
  transition: all var(--transition-fast) !important;
  text-decoration: none !important;
}

a:hover,
.b-link:hover {
  color: var(--accent-hover) !important;
  text-shadow: 0 0 8px var(--accent-glow) !important;
}

/* 
 * 4. 3D-эффект наведения на обложки (Apple-style)
 */
.b-catalog_entry,
.b-news_wall-topic,
.character,
.b-post,
.b-comment {
  transition:
    transform var(--transition-smooth),
    box-shadow var(--transition-smooth) !important;
}

.b-catalog_entry:hover,
.b-news_wall-topic:hover,
.character:hover {
  transform: translateY(-4px) scale(1.02) !important;
  box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5) !important;
  background: var(--glass-bg-hover) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
  z-index: 10;
}

/* Изображения обложек */
.b-catalog_entry .cover img {
  border-radius: var(--glass-radius) var(--glass-radius) 0 0 !important;
}

/* 
 * 5. Типографика
 */
.profile-head .head.misc h1 {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif !important;
  font-weight: 800 !important;
  color: #fff !important;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5) !important;
  letter-spacing: -1px !important;
  transition:
    transform var(--transition-smooth),
    text-shadow var(--transition-smooth) !important;
}

.profile-head .head.misc h1:hover {
  transform: scale(1.03) !important;
  text-shadow: 0 0 20px var(--accent-glow) !important;
  color: var(--accent-primary) !important;
}

/* Выделение текста на сайте */
::selection {
  background: var(--accent-primary) !important;
  color: #fff !important;
}

/* 
 * 6. Активность (Графики)
 */
.activity .graph.vertical .line .bar {
  animation: pulse-bar 2s ease-in-out infinite alternate !important;
}
.activity .graph.vertical .line .bar:hover {
  animation: none !important;
  background: var(--accent-primary) !important;
  box-shadow: 0 0 10px var(--accent-glow) !important;
}

@keyframes pulse-bar {
  0% {
    opacity: 0.7;
    transform: translateY(0);
  }
  100% {
    opacity: 1;
    transform: translateY(3px);
  }
}

/* Гистограммы профиля (Манга / Аниме бар) */
.bar.simple .bar.s0 {
  background: rgba(145, 70, 255, 0.3) !important;
}
.bar.simple .bar.s1 {
  background: rgba(145, 70, 255, 0.5) !important;
}
.bar.simple .bar.s2 {
  background: var(--accent-hover) !important;
}
.bar.simple .bar.s3 {
  background: var(--accent-primary) !important;
}

.b-stats_bar.anime .bar .first,
.b-stats_bar.manga .bar .first,
.b-stats_bar.lifetime .bar .first {
  background: var(--accent-primary) !important;
}
.b-stats_bar.anime .bar .second,
.b-stats_bar.manga .bar .second {
  background: var(--accent-hover) !important;
}
.b-stats_bar.anime .bar .third,
.b-stats_bar.manga .bar .third {
  background: var(--glass-bg-hover) !important;
}

/* 
 * 7. Кнопки
 */
.b-button,
.b-button.green,
.b-button.blue {
  background: var(--glass-bg) !important;
  border: var(--glass-border) !important;
  color: var(--text-main) !important;
  backdrop-filter: var(--glass-blur) !important;
  border-radius: 8px !important;
  transition: all var(--transition-fast) !important;
}
.b-button:hover,
.b-button.green:hover,
.b-button.blue:hover {
  background: var(--accent-primary) !important;
  box-shadow: 0 0 15px var(--accent-glow) !important;
  color: white !important;
  transform: translateY(-2px) !important;
}

/* 
 * 8. Настройки вывода персонажей (Топ и Запоминающиеся)
 */
.profile-content .about.block .topCharacters,
.profile-content .about.block .memorableCharacters {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
}

.profile-content .about.block .topCharacters .character,
.profile-content .about.block .memorableCharacters .character {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: var(--glass-bg) !important;
  border: var(--glass-border) !important;
  border-radius: var(--glass-radius) !important;
  padding: 8px;
  width: clamp(80px, 15vw, 120px);
  text-align: center;
}

.profile-content .about.block .character img {
  border-radius: 6px;
  margin-bottom: 8px;
  transition: transform var(--transition-smooth) ease;
}

.profile-content .about.block .character:hover img {
  transform: scale(1.08);
}
